Penetration testing, or pen testing, is the process of attacking an enterprise's network to find any vulnerabilities that could be present to be patched.

Ethical hackers and security experts carry out these tests to find any weak spots in a system’s security before hackers with malicious intent find them and exploit them. 

Someone who has no previous knowledge of the system's security usually performs these tests, making it easier to find vulnerabilities that the development team may have overlooked. 

You can perform penetration testing using manual or automated technologies to compromise servers, web applications, wireless networks, network devices, mobile devices, and other exposure points.



---
# Types of Penetration Testing

#### 1. Internal pen testing

Internal pen testing is a way to simulate an attack from the inside, where the attacker has a certain level of access already granted. This helps simulate situations such as an internal attack from an employee.

#### 2. External pen testing

External tests occur from the outside, through areas such as the organization's servers or website. This highlights the threat of a cyber attack from an outside source and whether or not the system is accessible externally.

### 3. Blind pen testing

Blind pen tests are also known as closed box pen tests. In this scenario, the penetration tester knows nothing about the system they are attacking, just the name of the company and any other publicly accessible information.

#### 4. Double-blind pen testing

The difference between a blind and double-blind pen test is that the employees or team members responsible for handling attacks are unaware of what’s happening. A benefit of double-blind pen testing is it allows you to learn how the company will respond to a real attack.

#### 5. Social engineering pen testing

Social engineering pen tests can include a physical attack on a building or infrastructure, such as getting past security guards and through email, a website, or other means. The strategy for this type of test is to attempt to trick employees into offering up information that would put the company at risk of an attack, potentially enabling access to their systems. 

#### 6. IoT pen testing

IoT pen tests seek to find security issues in connected IoT components such as servers, applications, software, and hardware. This can highlight several vulnerabilities, including unencrypted data and poor access control.

#### 7. Network pen testing

During a network pen test, the attempted attack occurs through the network. The pen tester tries to gain access through areas such as servers, routers, and firewalls. Network pen tests can happen internally or externally.

#### 8. Web application pen testing

Web-based applications are the target for this type of pen test, with the pen tester using information they find from operating systems and web servers. The pen tester can also attempt to access protected files containing passwords.

#### 9. Physical pen testing

Rather than hacking a system externally, a physical pen test directly attacks different components they can access. This can include locks, sensors, access cards, cameras, and alarms that are in place to provide security.

---
## Three approaches to performing a penetration test

You can typically classify penetration testing approaches into three categories: black box testing, white box testing, and gray box testing. 

#### Black box testing

Black box tests describe when the penetration tester comes into the test without prior information about the system they will hack. This helps to accurately simulate what would occur in a real-life cyber attack and is the best way to replicate the process.

#### White box testing

During a white box test, the pen tester instead has access to every piece of information relating to the system, including the architecture, credentials, and source code. This thorough approach helps ensure the penetration test covers all aspects of the system.

#### Gray box testing

Gray box testing helps simulate an attack in which the attacker has a basic understanding of the system and its various components. By giving the pen tester minimal information on certain areas, they can perform tests focused on those areas.

---
## The five phases of a penetration test

Penetration testing generally follows a five-step process:

**1. Reconnaissance:** During this first stage, pen testers gather and receive information about the test in areas such as the operating system, source code, and network layout, as well as publicly available information.

**2. Scanning and vulnerability assessment:** This is where the pen tester begins observing the system to identify any potential weak areas to attack. Pen testers can use specific tools designed to aid in this discovery stage.

**3. Exploitation:** During the exploitation phase, the pen tester conducts the attack, looking for vulnerabilities and weaknesses to exploit. It’s essential that the attacker take precautions during this stage not to harm the system.

**4. Reporting:** Reporting and documenting the discoveries during the attack allows the organization to examine its procedures and systems, address any flaws, and make improvements.

**5. Recommendations:** Lastly, the penetration tester can help the organization develop strategies to prevent attacks, making recommendations based on the findings.

---

# Security Audits

A security audit, also known as a cybersecurity audit, is a comprehensive assessment of your organization’s information systems.

Typically, this assessment measures your information system’s security against an audit checklist of industry best practices, externally established standards, and/or federal regulations.

A security audit will provide a roadmap of your organization’s main information security weaknesses and identify where it is meeting the criteria the organization has set out to follow and where it isn’t. 

Security audits are crucial to developing risk assessment plans and mitigation strategies for organizations dealing with sensitive and confidential data.

### How security audit works:

A comprehensive security audit will assess an organization’s security controls relating to the following:

1. Physical components of your information system and the environment in which the information system is housed.
2. Applications and software, including security patches your systems administrators, have already implemented.
3. Network vulnerabilities, including public and private access and firewall configurations.
4. The human dimension, including how employees collect, share, and store highly sensitive information.
5. The organization’s overall security strategy, including security policies, organization charts, and risk assessments.
### What does a security audit consist of:

A security audit consists of, among other things, selecting audit criteria, assessing staff training, reviewing logs, identifying vulnerabilities, and implementing protections.

### How do you perform a security audit:

Performing a security audit depends on the criteria your organization is looking to audit against and can be performed by internal audit or external auditors.

---

# Vulnerability Assessment

**Vulnerability assessments** or scans run over your systems to identify known vulnerabilities.

This process may involve automated and manual techniques.

- You don't go beyond the vulnerability scanning in attack phase.

A vulnerability can be defined in two ways:

1. A bug in code or a flaw in software design that can be exploited to cause harm. Exploitation may occur via an authenticated or unauthenticated attacker.
2. A gap in security procedures or a weakness in internal controls that when exploited results in a security breach.

**Some known vulnerabilities** 

1. Authentication Vulnerability 
2. Authorization Vulnerability
3. Input Validation Vulnerability 

**Examples of Vulnerability Scanners**

- Nessus 
- OpenVAS 
- Nmap
- ZAP (Zed Attack Proxy)
- BurpSuite

### How vulnerability assessment works.

There are three primary objectives of a vulnerability assessment.

1. Identify vulnerabilities ranging from critical design flaws to simple misconfigurations.
2. Document the vulnerabilities so that developers can easily identify and reproduce the findings.
3. Create guidance to assist developers with remediating the identified vulnerabilities.

### Assets, Threat, Vulnerability, Risk 

- **Assets** - What we are trying to protect - The Information.

- **Threat** - Anything that can exploit a vulnerability - What were trying to protect against.

- **Vulnerability** - Weaknesses or gaps.

- **Risk** - The potential for loss or damages as a result of a threat exploiting a vulnerability.

- Exploit - A piece of software that takes advantage of a vulnerability - The act of successful attack on an asset.

### Legal Issues & Testing Standards

 **Rule of Engagement (RoE)**:

- This document explicitly defines **what the pentesters are allowed to do** and **what they are not allowed to do** during the testing process.

- It ensures both the pentesters and the client are aligned on the scope, methods, tools, and goals of the pentest, preventing misunderstandings or unauthorized actions.


**"Get Out of Jail, Free" Card**:

- This term refers to formal **authorization documents** that legally allow the pentesters to perform their activities.

- It serves two purposes:

1. Confirms that pentesting is authorized by the organization.

2. Verifies the client has the **legal authority** to permit such testing (important for avoiding legal consequences).

- Without this, pentesters could be held accountable for actions like unauthorized access, even if they are working in good faith.


**Non-Disclosure Agreement (NDA)**:

- This is a **legal contract** ensuring that confidential information disclosed during the pentest remains protected.

- It restricts pentesters from sharing sensitive data with third parties.

- Since pentesting often involves accessing nearly all aspects of a system, an NDA ensures the client’s information, vulnerabilities, and other details are kept private.

#### Why These Legal Issues Matter:

- They establish a **clear framework** for the pentesting process.
- They **protect both parties**: the organization commissioning the test and the pentesters performing it.
- Following these protocols ensures compliance with laws, minimizes risks of legal disputes, and maintains trust between the pentesters and the client.

### Penetration Testing Standards and Frameworks

There are several **penetration testing standards and frameworks** that companies use to ensure consistency, thoroughness, and compliance with industry best practices. These standards are widely adopted and often tailored to specific industries or security requirements. Below are some key types:

1. ISO/IEC 27001 & ISO/IEC 27002
2. OSSTMM (Open Source Security Testing Methodology Manual)
3. PCI DSS (Payment Card Industry Data Security Standard)
4. NERC CIP (North American Electric Reliability Corporation Critical Infrastructure Protection)
5. HITRUST (Health Information Trust Alliance)
6. PTES (Penetration Testing Execution Standard)
7. OWASP (Open Web Application Security Project)
8. NIST SP 800-115 (National Institute of Standards and Technology)
9. CREST (Council of Registered Ethical Security Testers)
10. OSCP (Offensive Security Certified Professional)
11. FedRAMP (Federal Risk and Authorization Management Program)
12. CHECK (UK Government Certification Scheme)
13. TIBER-EU (Threat Intelligence-Based Ethical Red Teaming)

---

### Pentest Tools

#### Scanners
- Nikto
- OpenVAS
- sqlmap
- Nessus
- Nmap

#### OSINT
- WHOIS
- Nslookup
- FOCA
- theHarvester
- Shodan
- Maltego
- Recon-ng
- Censys

#### Remote Access Tools
- Secure Shell (SSH)
- Ncat
- Ne
- Proxychains

#### Credential Testing Tools
- Hashcat
- Medusa
- Hydra
- CeWL
- John the Ripper
- Cain and Abel
- Mimikatz
- Patator
- DirBuster
- W3AF

#### Wireless
- Aircrack-ng
- Kismet
- WiFite

#### Networking Tools
- Wireshark
- Hping

#### Debuggers
- OllyDbg
- Immunity Debugger
- GDB
- WinDbg
- IDA

#### Web Proxies
- OWASP ZAP
- Burp Suite

#### Mobile Tools
- Drozer
- APKX
- APK Studio

#### Software Assurance
- FindBugs/find-sec-bugs
- Peach
- AFL
- SonarQube
- YASCA

#### Social Engineering Tools
- SE
- BeE

#### Miscellaneous Tools
- SearchSploit
- PowerSploit
- Responder
- Impacket
- Empir
- Metasploit Framework
